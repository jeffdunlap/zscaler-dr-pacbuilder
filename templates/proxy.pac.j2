function FindProxyForURL(url, host) {
    // Zscaler ZIA Disaster Recovery - Custom PAC File
    // Works in conjunction with Zscaler's Pre-Selected Destinations list.
    // Domains listed here will be allowed DIRECT internet access during DR mode.
    //
    // Generated by zscaler-dr-pacbuilder
    // Domain count: {{ domains | length }}

    host = host.toLowerCase();

    // Custom allowed domains (apex + all subdomains)
    var allowed = [
{%- for domain in domains %}
      "{{ domain }}"{{ "," if not loop.last }}
{%- endfor %}
    ];

    for (var i = 0; i < allowed.length; i++) {
        if (host === allowed[i] || dnsDomainIs(host, "." + allowed[i])) {
            return "DIRECT";
        }
    }

    // Block everything not matched here or in Zscaler's Pre-Selected Destinations
    return "PROXY 127.0.0.1:1";
}
